<?xml version="1.0" encoding="UTF-8"?>

<openerp>
    <data>
        <record id="view_pre_shipping_process" model="ir.ui.view">
            <field name="name">view.pre.shipping.process</field>
            <field name="model">pre.shipping.process</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Do you Want to Create Shipment">
                    <group>
                    <separator string="Do you Want to Create Shipment" colspan="8"/>
                    <button name="process_shipping" string="Yes" type="object"/>
                    <button name="donot_process_shipping" string="No" type="object"/>
                    </group>
                </form>
            </field>
        </record>

        <record id="view_shipping_order_processing_form" model="ir.ui.view">
            <field name="name">view.shipping.order.processing.form</field>
            <field name="model">shipping.order.processing</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Order Shipping Processing" version="7.0">
		   <sheet>
                    <group colspan="4" col="4" >
                        <separator string = "Warehouse Location Address" colspan="4" />
                            <group colspan="4" col="4">
                                <field name="warehouse_location_id" readonly="1" widget="selection"/>
                                <field name="picking_id" readonly="1"/>
                            </group>
                        </group>
                        <group colspan="4" col="4" attrs="{'invisible':['|',('use_mps','=',False),('use_shipping','=',False)]}">
                            <separator string = "Multiple Package Shipment" colspan="4" />
                                <group colspan="4" col="4">
                                    <field name='similar_packages' nolabel = '1'>
                                           <tree editable='bottom'>
                                            <field name='number_of_similar_packages' required = "1"/>
                                            <field name='package_dim' required = "1" />

                                        </tree>
                                    </field>

                                </group>
                                <group>
                                <field name="total_weight" string = "Total Weight"/>
                                <field name="total_packages" string = "Total Packages"/>
                                </group>
                        </group>
                        <group colspan="4" col="4" >
                            <separator string = "Shipping Type" colspan="4" />
                                <group colspan="4" col="4">
                                    <field name="use_shipping" invisible="1"/>
                                    <field name="shipping_type" />
                                    <field name="use_mps" attrs="{'invisible': [('use_shipping','=',False)]}" on_change = "onchange_use_mps(use_mps)"/>
                                </group>
                        </group>
                        <group colspan="4" col="4" >
                            <separator string = "Weight" colspan="4" attrs="{'invisible':[('use_mps','=',True)]}"/>
                            <group colspan="4" col="4">
                                <field name="weight_package" attrs="{'invisible':[('use_mps','=',True)]}"/>
                            </group>
                        </group>
                        <group colspan="4" col="4" name="fedex" attrs="{'invisible':[('shipping_type','!=','Fedex'), ('shipping_type','!=','All')]}" >
                            <separator string = "Fedex" colspan="4" />
                            <group colspan="4" col="4" >
                                <field name="dropoff_type_fedex" attrs="{'required':['|', ('shipping_type','=','Fedex'),('shipping_type','=','All')]}" />
                                <field name="service_type_fedex" attrs="{'required':['|', ('shipping_type','=','Fedex'),('shipping_type','=','All')]}" on_change="onchange_shipping_rates(service_type_fedex,response_usps_ids,shipping_type)"/>
                                <field name="customsvalue" attrs="{'invisible':[('service_type_fedex','not in',['INTERNATIONAL_ECONOMY','INTERNATIONAL_ECONOMY_FREIGHT','INTERNATIONAL_FIRST','INTERNATIONAL_PRIORITY','INTERNATIONAL_PRIORITY_FREIGHT','INTERNATIONAL_GROUND','EUROPE_FIRST_INTERNATIONAL_PRIORITY'])]}"/>
                                <field name="currency_id" attrs="{'invisible':[('service_type_fedex','not in',['INTERNATIONAL_ECONOMY','INTERNATIONAL_ECONOMY_FREIGHT','INTERNATIONAL_FIRST','INTERNATIONAL_PRIORITY','INTERNATIONAL_PRIORITY_FREIGHT','INTERNATIONAL_GROUND','EUROPE_FIRST_INTERNATIONAL_PRIORITY'])]}"/>
                                <field name="packaging_type_fedex" attrs="{'required':['|', ('shipping_type','=','Fedex'),('shipping_type','=','All')]}" />
                                <field name="package_detail_fedex" attrs="{'required':['|', ('shipping_type','=','Fedex'),('shipping_type','=','All')]}" />
                                <field name="payment_type_fedex" attrs="{'required':['|', ('shipping_type','=','Fedex'),('shipping_type','=','All')]}" />
                                <field name="physical_packaging_fedex" attrs="{'required':['|', ('shipping_type','=','Fedex'),('shipping_type','=','All')]}" />
                                <field name="pack_length" attrs="{'invisible':[('use_mps','=',True)]}"/>
                                <field name="pack_width" attrs="{'invisible':[('use_mps','=',True)]}"/>
                                <field name="pack_height" attrs="{'invisible':[('use_mps','=',True)]}"/>
                            </group>
                        </group>
                        <group colspan="4" col="1" attrs="{'invisible':[('shipping_type','!=','Fedex'), ('shipping_type','!=','USPS'), ('shipping_type','!=','UPS'), ('shipping_type','!=','All')]}" >
                            <separator/>
                            <button string="Generate Shipping Quotes" icon="gtk-apply" name="generate_shipping" type="object" />
                        </group>
                        <group colspan="4" col="2" attrs="{'invisible':[('shipping_type','!=','Fedex'), ('shipping_type','!=','USPS'), ('shipping_type','!=','UPS'), ('shipping_type','!=','All')]}" >
                            <separator string = "Shipping Quotes" colspan="2" />
                            <field name="response_usps_ids" nolabel="1" widget="one2many_list"  colspan="2" >
                                <tree string="Shipping Quotes" >
                                    <button name="generate_tracking_no" string="Accept" type="object" icon="gtk-go-forward" />
                                    <field name="name"/>
                                    <field name="type"/>
                                    <field name="rate" />
                                </tree>
                            </field>
                        </group>
		    </sheet>
                    </form>
            </field>
        </record>
        <act_window name="Generate Shipping Label"
            res_model="shipping.order.processing"
            src_model="stock.picking"
            view_mode="form"
            target="new"
            key2="client_action_multi"
            id="action_view_shipping_order_processing_form"/>
    </data>
</openerp>