<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <record model="ir.ui.view" id="account_invoice_check_scheduler">
            <field name="name">account.invoice.check.scheduler</field>
            <field name="model">account.invoice</field>
            <field name="inherit_id" ref="account.invoice_form" />
            <field name="type">form</field>
            <field name="arch" type="xml">
                <!--<xpath expr="/form/group/field[@name='payment_term']" position="after">
                    <button name="recurring_billing" string="Check Scheduler function" type="object" icon="gtk-ok"/>
                </xpath>-->
                <xpath expr="/form/sheet/notebook/page[@string='Other Info']/group/group/field[@name='move_id']" position="after">
                    <field name="next_billing_date" readonly="1"/>
                </xpath>
                <xpath expr="/form/sheet/notebook/page[@string='Other Info']/group/group/field[@name='origin']" position="attributes">
                    <attribute name='readonly'>1</attribute>
                </xpath>
                <xpath expr="/form/header/button[@name='invoice_open']" position="attributes">
                <attribute name="groups">base.group_system</attribute>
                </xpath>
<!--                <xpath expr="/form/notebook/page[@string='Other Info']/field[@name='address_contact_id']" position="attributes">
                    <attribute name='string'>Shipping Address</attribute>
                </xpath>-->
                <xpath expr="/form/sheet/notebook/page[@string='Other Info']/field[@name='tax_line']" position="replace">
                </xpath>
                <xpath expr="/form/sheet/notebook/page[@string='Invoice Lines']/field[@name='invoice_line']" position="after">
                    <field name="tax_line">
                                <tree editable="bottom" string="Taxes">
                                    <field name="name"/>
                                    <field name="account_id" groups="account.group_account_user"/>
                                    <field name="base" on_change="base_change(base,parent.currency_id,parent.company_id,parent.date_invoice)" readonly="1"/>
                                    <field name="amount" on_change="amount_change(amount,parent.currency_id,parent.company_id,parent.date_invoice)"/>
                                    <field invisible="True" name="base_amount"/>
                                    <field invisible="True" name="tax_amount"/>
                                    <field name="factor_base" invisible="True"/>
                                    <field name="factor_tax" invisible="True"/>
                                </tree>
                            </field>
                </xpath>
            </field>
        </record>
        
        <record model="ir.ui.view" id="account_invoice_recurring">
            <field name="name">account.invoice.recurring</field>
            <field name="model">account.invoice</field>
            <field name="inherit_id" ref="account.view_account_invoice_filter" />
            <field name="type">form</field>
            <field name="arch" type="xml">
                <xpath expr="/search/filter[@name='unpaid']" position="after">
                    <filter name="recurring_invoices" icon="terp-dolar" string="Recurring Invoices" domain="[('recurring','=',True)]" help="Recurring Invoices"/>
                </xpath>
            </field>
        </record>
        
        <!-- To Remove weight and shipping method from invoice view which comes from sale_negotiated_shipping-->
        <record model="ir.ui.view" id="account_invoice_form_inherit_1_cox">
            <field name="name">account.invoice.form.inherit1.cox</field>
            <field name="model">account.invoice</field>
            <field name="inherit_id" ref="sale_negotiated_shipping.invoice_form_inherit_1" />
            <field name="type">form</field>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='total_weight_net']" position="replace">
                </xpath>
                 <xpath expr="//field[@name='shipcharge']" position="replace">
                </xpath>
                 <xpath expr="//field[@name='ship_method']" position="replace">
                </xpath>
            </field>
        </record>

    </data>
</openerp>
